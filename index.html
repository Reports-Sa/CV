<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø³ÙŠØ±ØªÙŠ Ø§Ù„Ù…Ù…ÙŠØ²Ø©</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800;900&family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<style>
  :root {
    --primary: #0A66C2;
    --primary-light: #e8f1fb;
    --success: #10B981;
    --bg: #F8FAFC;
    --text: #1e293b;
    --muted: #64748b;
    --border: #e2e8f0;
  }
  * { box-sizing: border-box; }
  body {
    font-family: 'Tajawal', sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    background-image:
      radial-gradient(ellipse at 80% 0%, rgba(10,102,194,0.08) 0%, transparent 60%),
      radial-gradient(ellipse at 20% 100%, rgba(16,185,129,0.06) 0%, transparent 50%);
  }
  h1,h2,h3,.font-heading { font-family: 'Cairo', sans-serif; }

  .step-panel { display:none; animation: stepIn 0.4s cubic-bezier(0.22,1,0.36,1) both; }
  .step-panel.active { display:block; }
  @keyframes stepIn { from{opacity:0;transform:translateY(18px)} to{opacity:1;transform:translateY(0)} }

  /* Floating label */
  .float-group { position:relative; margin-bottom:1.25rem; }
  .float-group input,
  .float-group textarea {
    width:100%; padding:1.1rem 1rem 0.45rem;
    border:1.5px solid var(--border); border-radius:10px;
    background:#fff; font-family:'Tajawal',sans-serif; font-size:0.95rem;
    color:var(--text); outline:none; transition:border-color .2s,box-shadow .2s;
  }
  .float-group input:focus, .float-group textarea:focus {
    border-color:var(--primary); box-shadow:0 0 0 3px rgba(10,102,194,0.12);
  }
  .float-group label {
    position:absolute; top:1rem; right:1rem; font-size:0.85rem;
    color:var(--muted); pointer-events:none; transition:all .2s;
    background:#fff; padding:0 4px;
  }
  .float-group input:focus+label,
  .float-group input:not(:placeholder-shown)+label,
  .float-group textarea:focus+label,
  .float-group textarea:not(:placeholder-shown)+label {
    top:-0.55rem; font-size:0.73rem; color:var(--primary);
  }

  /* Pricing cards */
  .price-card {
    cursor:pointer; border:2px solid var(--border); border-radius:14px;
    padding:1.25rem 1rem; background:#fff;
    transition:all 0.22s cubic-bezier(0.22,1,0.36,1);
    position:relative; text-align:center;
  }
  .price-card:hover { border-color:var(--primary); transform:translateY(-3px); box-shadow:0 8px 24px rgba(10,102,194,0.13); }
  .price-card.selected { border-color:var(--primary); background:var(--primary-light); box-shadow:0 0 0 3px rgba(10,102,194,0.15); }
  .price-card input[type="radio"] { display:none; }

  #progress-bar-fill {
    height:100%; background:linear-gradient(90deg,var(--primary),#2d8cf0);
    border-radius:99px; transition:width 0.5s cubic-bezier(0.22,1,0.36,1);
  }

  /* Buttons */
  .btn-primary {
    background:var(--primary); color:#fff; border:none; border-radius:10px;
    padding:0.75rem 2rem; font-family:'Cairo',sans-serif; font-size:1rem; font-weight:700;
    cursor:pointer; transition:all .2s; display:inline-flex; align-items:center; gap:0.4rem;
  }
  .btn-primary:hover { background:#0856a4; transform:translateY(-1px); box-shadow:0 4px 16px rgba(10,102,194,0.25); }

  .btn-secondary {
    background:transparent; color:var(--primary); border:1.5px solid var(--primary);
    border-radius:10px; padding:0.7rem 1.8rem; font-family:'Cairo',sans-serif;
    font-size:1rem; font-weight:600; cursor:pointer; transition:all .2s;
  }
  .btn-secondary:hover { background:var(--primary-light); }

  .btn-success {
    background:var(--success); color:#fff; border:none; border-radius:12px;
    padding:0.9rem 2.5rem; font-family:'Cairo',sans-serif; font-size:1.1rem; font-weight:800;
    cursor:pointer; transition:all .2s; display:inline-flex; align-items:center; gap:0.5rem;
  }
  .btn-success:hover { background:#0ea271; transform:translateY(-2px); box-shadow:0 6px 20px rgba(16,185,129,0.3); }

  .btn-add {
    background:transparent; border:1.5px dashed var(--primary); color:var(--primary);
    border-radius:8px; padding:0.45rem 1rem; font-family:'Tajawal',sans-serif;
    font-size:0.88rem; cursor:pointer; transition:all .2s; margin-top:0.4rem; display:inline-block;
  }
  .btn-add:hover { background:var(--primary-light); }

  /* Note */
  .note-section textarea {
    width:100%; border:1.5px solid var(--border); border-radius:10px;
    padding:0.8rem 1rem; font-family:'Tajawal',sans-serif; font-size:0.9rem;
    resize:vertical; outline:none; transition:border-color .2s,box-shadow .2s;
    margin-top:0.5rem; background:#fafcff;
  }
  .note-section textarea:focus { border-color:var(--primary); box-shadow:0 0 0 3px rgba(10,102,194,0.1); }

  /* Modal */
  #soft-modal {
    display:none; position:fixed; inset:0; background:rgba(0,0,0,0.45);
    z-index:999; align-items:center; justify-content:center; backdrop-filter:blur(4px);
  }
  #soft-modal.show { display:flex; animation:fadeIn 0.2s ease; }
  @keyframes fadeIn { from{opacity:0} to{opacity:1} }
  #soft-modal .modal-box {
    background:#fff; border-radius:16px; padding:2rem; max-width:400px; width:90%;
    text-align:center; animation:popIn 0.3s cubic-bezier(0.22,1,0.36,1);
  }
  @keyframes popIn { from{opacity:0;transform:scale(0.85)} to{opacity:1;transform:scale(1)} }

  .spinner {
    width:20px; height:20px; border:2.5px solid rgba(255,255,255,0.4);
    border-top-color:#fff; border-radius:50%; animation:spin 0.7s linear infinite; display:inline-block;
  }
  @keyframes spin { to{transform:rotate(360deg)} }

  #success-screen { display:none; text-align:center; padding:3rem 2rem; animation:stepIn 0.5s ease both; }
  #success-screen.active { display:block; }
  .checkmark-circle {
    width:80px; height:80px; background:linear-gradient(135deg,#10B981,#34d399);
    border-radius:50%; display:flex; align-items:center; justify-content:center;
    margin:0 auto 1.5rem; font-size:2rem; box-shadow:0 8px 32px rgba(16,185,129,0.35);
    animation:bounceIn 0.6s cubic-bezier(0.22,1,0.36,1) 0.2s both;
  }
  @keyframes bounceIn { 0%{transform:scale(0);opacity:0} 70%{transform:scale(1.15)} 100%{transform:scale(1);opacity:1} }

  .section-divider { border:none; border-top:1.5px solid var(--border); margin:1.5rem 0; }

  .badge-best {
    background:linear-gradient(90deg,#0A66C2,#2d8cf0); color:#fff;
    font-family:'Cairo',sans-serif; font-size:0.7rem; font-weight:700;
    padding:3px 10px; border-radius:99px; position:absolute; top:-11px;
    left:50%; transform:translateX(-50%); white-space:nowrap;
  }

  .entry-block {
    border:1.5px solid var(--border); border-radius:12px; padding:1rem;
    margin-bottom:1rem; position:relative; background:#fafcff;
  }
  .entry-block .remove-btn {
    position:absolute; top:0.6rem; left:0.6rem; background:#fee2e2; color:#ef4444;
    border:none; border-radius:6px; width:26px; height:26px; font-size:1rem;
    cursor:pointer; display:flex; align-items:center; justify-content:center; transition:background .2s; z-index:1;
  }
  .entry-block .remove-btn:hover { background:#fca5a5; }

  .radio-pill { display:inline-flex; gap:0.75rem; }
  .radio-pill label {
    cursor:pointer; border:1.5px solid var(--border); border-radius:99px;
    padding:0.45rem 1.4rem; font-size:0.92rem; transition:all .2s; user-select:none;
  }
  .radio-pill input[type="radio"] { display:none; }
  .radio-pill label.active { background:var(--primary); color:#fff; border-color:var(--primary); }

  .step-dot {
    width:28px; height:28px; border-radius:50%; display:flex; align-items:center;
    justify-content:center; font-family:'Cairo',sans-serif; font-size:0.75rem; font-weight:700;
    transition:all .3s; border:2px solid var(--border); background:#fff; color:var(--muted); flex-shrink:0;
  }
  .step-dot.done { background:var(--success); border-color:var(--success); color:#fff; }
  .step-dot.current { background:var(--primary); border-color:var(--primary); color:#fff; box-shadow:0 0 0 4px rgba(10,102,194,0.15); }

  /* Skill bullet rows */
  .skill-row { display:flex; align-items:center; gap:0.5rem; margin-bottom:0.6rem; }
  .skill-bullet { color:var(--primary); font-size:1.4rem; line-height:1; flex-shrink:0; }
  .skill-row input {
    flex:1; padding:0.65rem 0.9rem; border:1.5px solid var(--border); border-radius:8px;
    font-family:'Tajawal',sans-serif; font-size:0.93rem; color:var(--text);
    outline:none; transition:border-color .2s,box-shadow .2s; background:#fff;
  }
  .skill-row input:focus { border-color:var(--primary); box-shadow:0 0 0 3px rgba(10,102,194,0.1); }
  .rm-skill,.rm-lang {
    background:none; border:none; color:#cbd5e1; font-size:1.3rem;
    cursor:pointer; padding:0 4px; transition:color .2s; line-height:1; flex-shrink:0;
  }
  .rm-skill:hover,.rm-lang:hover { color:#ef4444; }

  /* Language rows */
  .lang-row { display:flex; align-items:center; gap:0.5rem; margin-bottom:0.6rem; }
  .lang-row input {
    flex:1; padding:0.65rem 0.9rem; border:1.5px solid var(--border); border-radius:8px;
    font-family:'Tajawal',sans-serif; font-size:0.93rem; color:var(--text);
    outline:none; transition:border-color .2s,box-shadow .2s; background:#fff;
  }
  .lang-row input:focus { border-color:var(--primary); box-shadow:0 0 0 3px rgba(10,102,194,0.1); }

  .sub-title {
    font-family:'Cairo',sans-serif; font-weight:700; font-size:0.95rem;
    color:var(--primary); margin-bottom:0.35rem; display:flex; align-items:center; gap:0.4rem;
  }
  .hint { font-size:0.78rem; color:var(--muted); margin-bottom:0.75rem; display:block; line-height:1.5; }

  input::placeholder, textarea::placeholder { opacity:0; }
</style>
</head>
<body class="py-8 px-4">

<!-- Header -->
<div class="text-center mb-8">
  <h1 class="font-heading text-3xl font-extrabold text-[#0A66C2] tracking-tight">Ø³ÙŠØ±ØªÙŠ Ø§Ù„Ù…Ù…ÙŠØ²Ø©</h1>
  <p class="text-[#64748b] text-sm mt-1">ØªØµÙ…ÙŠÙ… Ø³ÙŠØ± Ø°Ø§ØªÙŠØ© (ATS) ÙˆØªØ·ÙˆÙŠØ± Ø­Ø³Ø§Ø¨Ø§Øª Ù„ÙŠÙ†ÙƒØ¯ Ø¥Ù†</p>
</div>

<!-- Card -->
<div class="max-w-4xl mx-auto bg-white rounded-2xl" style="box-shadow:0 20px 60px rgba(10,102,194,0.1),0 4px 16px rgba(0,0,0,0.07);">

  <!-- Progress -->
  <div class="px-8 pt-6 pb-0">
    <div class="flex items-center justify-center gap-1 mb-4" id="step-dots"></div>
    <div style="height:6px;background:#e2e8f0;border-radius:99px;overflow:hidden;" class="mb-1">
      <div id="progress-bar-fill" style="width:20%;"></div>
    </div>
    <p class="text-xs text-[#64748b] text-center mb-4" id="step-label">Ø§Ù„Ø®Ø·ÙˆØ© 1 Ù…Ù† 5</p>
    <hr class="section-divider" style="margin-top:0;">
  </div>

  <div class="px-8 pb-8">

    <!-- ====== STEP 1: Packages ====== -->
    <div class="step-panel active" id="step-1">
      <h2 class="font-heading text-xl font-bold mb-1">Ø§Ø®ØªØ± Ù„ØºØ© Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ø°Ø§ØªÙŠØ©</h2>
      <p class="text-sm text-[#64748b] mb-5">Ø§Ø®ØªØ± Ø§Ù„Ø­Ø²Ù…Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ø§Ø­ØªÙŠØ§Ø¬Ø§ØªÙƒ Ø§Ù„Ù…Ù‡Ù†ÙŠØ©</p>

      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(155px,1fr));gap:1rem;">
        <label class="price-card" id="card-ar" onclick="selectPricing('ar',this)">
          <input type="radio" name="lc" value="ar">
          <div class="text-3xl mb-2">ğŸ‡¸ğŸ‡¦</div>
          <div class="font-heading font-bold text-base">Ø³ÙŠØ±Ø© Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</div>
          <div class="text-[#0A66C2] font-extrabold font-heading text-lg mt-2">50 Ø±ÙŠØ§Ù„</div>
        </label>
        <label class="price-card" id="card-en" onclick="selectPricing('en',this)">
          <input type="radio" name="lc" value="en">
          <div class="text-3xl mb-2">ğŸ‡ºğŸ‡¸</div>
          <div class="font-heading font-bold text-base">Ø³ÙŠØ±Ø© Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©</div>
          <div class="text-[#0A66C2] font-extrabold font-heading text-lg mt-2">50 Ø±ÙŠØ§Ù„</div>
        </label>
        <label class="price-card" id="card-both" onclick="selectPricing('both',this)" style="padding-top:1.7rem;">
          <span class="badge-best">Ù„ÙØ±Øµ ÙˆØ¸ÙŠÙÙŠØ© Ø£ÙƒØ«Ø±</span>
          <input type="radio" name="lc" value="both">
          <div class="text-3xl mb-2">ğŸŒ</div>
          <div class="font-heading font-bold text-base">Ø³ÙŠØ±ØªÙŠÙ† (Ø¹Ø±Ø¨ÙŠØ© + Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©)</div>
          <div class="text-[#0A66C2] font-extrabold font-heading text-lg mt-2">100 Ø±ÙŠØ§Ù„</div>
        </label>
      </div>

      <div class="flex justify-start mt-8">
        <button class="btn-primary" onclick="goToStep(2)">Ø§Ù„ØªØ§Ù„ÙŠ <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"/></svg></button>
      </div>
    </div>

    <!-- ====== STEP 2: Personal Info ====== -->
    <div class="step-panel" id="step-2">
      <h2 class="font-heading text-xl font-bold mb-1">Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ©</h2>
      <p class="text-sm text-[#64748b] mb-5">Ø³ØªÙØ³ØªØ®Ø¯Ù… Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙÙŠ Ø¨Ù†Ø§Ø¡ Ù…Ù„ÙÙƒ Ø§Ù„Ø´Ø®ØµÙŠ</p>

      <div class="float-group">
        <input type="text" id="full_name" placeholder=" ">
        <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
      </div>
      <div class="float-group">
        <input type="tel" id="phone" placeholder=" ">
        <label>Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„</label>
      </div>
      <div class="float-group" style="margin-bottom:0.4rem;">
        <input type="email" id="email" placeholder=" ">
        <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
      </div>
      <p style="font-size:0.75rem;color:var(--muted);margin-bottom:1.25rem;padding-right:0.25rem;">ÙŠÙØ¶Ù„ Ø£Ù† ÙŠÙƒÙˆÙ† Ø±Ø³Ù…ÙŠØ§Ù‹ Ø¨Ø¹ÙŠØ¯Ø§Ù‹ Ø¹Ù† Ø§Ù„Ø£Ù„Ù‚Ø§Ø¨ ÙˆØ§Ù„Ø±Ù…ÙˆØ² â€” Ù…Ø«Ø§Ù„: ahmed.ali@gmail.com</p>
      <div class="float-group">
        <input type="text" id="city" placeholder=" ">
        <label>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© (Ø§ØªØ±ÙƒÙ‡Ø§ ÙØ§Ø±ØºØ© Ø¥Ù† ÙƒÙ†Øª Ù…Ù†ÙØªØ­Ø§Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„)</label>
      </div>
      <div class="float-group">
        <input type="text" id="nationality" placeholder=" ">
        <label>Ø§Ù„Ø¬Ù†Ø³ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
      </div>

      <div class="note-section mt-1">
        <button type="button" class="text-sm text-[#0A66C2] font-medium hover:underline" onclick="toggleNote('note2')">ğŸ“ Ø£Ø¶Ù Ù…Ù„Ø§Ø­Ø¸Ø© Ø®Ø§ØµØ© Ø¨Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù…</button>
        <div id="note2" style="display:none;"><textarea id="note2_text" rows="3" placeholder="Ø§ÙƒØªØ¨ Ù…Ù„Ø§Ø­Ø¸ØªÙƒ Ù‡Ù†Ø§..."></textarea></div>
      </div>

      <div class="flex justify-between mt-8">
        <button class="btn-secondary" onclick="goToStep(1)"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5" style="display:inline;margin-left:4px;"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/></svg>Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
        <button class="btn-primary" onclick="validateStep2()">Ø§Ù„ØªØ§Ù„ÙŠ <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"/></svg></button>
      </div>
    </div>

    <!-- ====== STEP 3: Education, Certifications, Courses ====== -->
    <div class="step-panel" id="step-3">
      <h2 class="font-heading text-xl font-bold mb-1">Ø§Ù„Ù…Ø¤Ù‡Ù„Ø§Øª ÙˆØ§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª ÙˆØ§Ù„Ø¯ÙˆØ±Ø§Øª</h2>
      <p class="text-sm text-[#64748b] mb-5">Ø£Ø¶Ù Ù…Ø¤Ù‡Ù„Ø§ØªÙƒ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© ÙˆØ§Ù„Ù…Ù‡Ù†ÙŠØ©</p>

      <div class="sub-title">ğŸ“ Ø§Ù„Ù…Ø¤Ù‡Ù„Ø§Øª Ø§Ù„Ø¹Ù„Ù…ÙŠØ©</div>
      <div id="edu-entries"></div>
      <button type="button" class="btn-add" onclick="addEduEntry()">+ Ø¥Ø¶Ø§ÙØ© Ù…Ø¤Ù‡Ù„ Ø¢Ø®Ø±</button>

      <hr class="section-divider">

      <div class="sub-title">ğŸ… Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ© ÙˆØ§Ù„Ø±Ø®Øµ</div>
      <span class="hint">Ø¥Ù† ÙˆØ¬Ø¯ â€” Ù…Ø«Ù„: PMP, SOCPA, Ù‡ÙŠØ¦Ø© Ø§Ù„ØªØ®ØµØµØ§Øª Ø§Ù„ØµØ­ÙŠØ©</span>
      <div id="cert-entries"></div>
      <button type="button" class="btn-add" onclick="addCertEntry()">+ Ø¥Ø¶Ø§ÙØ© Ø´Ù‡Ø§Ø¯Ø©</button>

      <hr class="section-divider">

      <div class="sub-title">ğŸ“š Ø§Ù„Ø¯ÙˆØ±Ø§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ©</div>
      <span class="hint">Ø¥Ù† ÙˆØ¬Ø¯</span>
      <div id="course-entries"></div>
      <button type="button" class="btn-add" onclick="addCourseEntry()">+ Ø¥Ø¶Ø§ÙØ© Ø¯ÙˆØ±Ø©</button>

      <div class="note-section mt-4">
        <button type="button" class="text-sm text-[#0A66C2] font-medium hover:underline" onclick="toggleNote('note3')">ğŸ“ Ø£Ø¶Ù Ù…Ù„Ø§Ø­Ø¸Ø© Ø®Ø§ØµØ© Ø¨Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù…</button>
        <div id="note3" style="display:none;"><textarea id="note3_text" rows="3" placeholder="Ø§ÙƒØªØ¨ Ù…Ù„Ø§Ø­Ø¸ØªÙƒ Ù‡Ù†Ø§..."></textarea></div>
      </div>

      <div class="flex justify-between mt-8">
        <button class="btn-secondary" onclick="goToStep(2)"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5" style="display:inline;margin-left:4px;"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/></svg>Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
        <button class="btn-primary" onclick="goToStep(4)">Ø§Ù„ØªØ§Ù„ÙŠ <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"/></svg></button>
      </div>
    </div>

    <!-- ====== STEP 4: Experience & Projects ====== -->
    <div class="step-panel" id="step-4">
      <h2 class="font-heading text-xl font-bold mb-1">Ø§Ù„Ø®Ø¨Ø±Ø§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ© ÙˆØ§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹</h2>
      <p class="text-sm text-[#64748b] mb-5">Ø£Ø¶Ù ØªØ¬Ø±Ø¨ØªÙƒ Ø§Ù„Ù…Ù‡Ù†ÙŠØ© ÙˆÙ…Ø´Ø§Ø±ÙŠØ¹Ùƒ Ø§Ù„Ø¨Ø§Ø±Ø²Ø©</p>

      <div class="sub-title">ğŸ’¼ Ø§Ù„Ø®Ø¨Ø±Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</div>
      <p class="text-sm text-[#64748b] mb-3">Ù‡Ù„ ØªÙ…ØªÙ„Ùƒ Ø®Ø¨Ø±Ø© Ø¹Ù…Ù„ÙŠØ© Ø³Ø§Ø¨Ù‚Ø©ØŸ</p>
      <div class="radio-pill mb-4">
        <label id="exp-yes-lbl" onclick="toggleExperience(true)"><input type="radio" name="has_exp" value="yes"><span>Ù†Ø¹Ù…</span></label>
        <label id="exp-no-lbl" onclick="toggleExperience(false)"><input type="radio" name="has_exp" value="no"><span>Ù„Ø§</span></label>
      </div>
      <div id="exp-section" style="display:none;">
        <div id="exp-entries"></div>
        <button type="button" class="btn-add" onclick="addExpEntry()">+ Ø¥Ø¶Ø§ÙØ© Ø®Ø¨Ø±Ø© Ø£Ø®Ø±Ù‰</button>
      </div>
      <div id="exp-none-msg" style="display:none;">
        <p class="text-sm text-[#64748b] bg-[#f1f5f9] rounded-xl p-3 mt-1 mb-1">Ù„Ø§ Ø¨Ø£Ø³! Ø³Ù†Ø¨Ù†ÙŠ Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ© Ø±Ø§Ø¦Ø¹Ø© Ø­ØªÙ‰ Ø¨Ø¯ÙˆÙ† Ø®Ø¨Ø±Ø© Ø³Ø§Ø¨Ù‚Ø© ğŸ’ª</p>
      </div>

      <hr class="section-divider">

      <div class="sub-title">ğŸš€ Ø£Ø¨Ø±Ø² Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹</div>
      <span class="hint">Ø¥Ù† ÙˆØ¬Ø¯ â€” Ù‡Ø§Ù… Ù„Ù„Ù…Ù‡Ù†Ø¯Ø³ÙŠÙ† ÙˆØ§Ù„Ù…Ø¨Ø±Ù…Ø¬ÙŠÙ† ÙˆØ¥Ø¯Ø§Ø±ÙŠÙŠÙ† Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹</span>
      <div id="proj-entries"></div>
      <button type="button" class="btn-add" onclick="addProjEntry()">+ Ø¥Ø¶Ø§ÙØ© Ù…Ø´Ø±ÙˆØ¹</button>

      <div class="note-section mt-4">
        <button type="button" class="text-sm text-[#0A66C2] font-medium hover:underline" onclick="toggleNote('note4')">ğŸ“ Ø£Ø¶Ù Ù…Ù„Ø§Ø­Ø¸Ø© Ø®Ø§ØµØ© Ø¨Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù…</button>
        <div id="note4" style="display:none;"><textarea id="note4_text" rows="3" placeholder="Ø§ÙƒØªØ¨ Ù…Ù„Ø§Ø­Ø¸ØªÙƒ Ù‡Ù†Ø§..."></textarea></div>
      </div>

      <div class="flex justify-between mt-8">
        <button class="btn-secondary" onclick="goToStep(3)"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5" style="display:inline;margin-left:4px;"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/></svg>Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
        <button class="btn-primary" onclick="goToStep(5)">Ø§Ù„ØªØ§Ù„ÙŠ <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"/></svg></button>
      </div>
    </div>

    <!-- ====== STEP 5: Skills, Languages, Volunteer ====== -->
    <div class="step-panel" id="step-5">
      <h2 class="font-heading text-xl font-bold mb-1">Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª ÙˆØ§Ù„Ù„ØºØ§Øª ÙˆØ§Ù„ØªØ·ÙˆØ¹</h2>
      <p class="text-sm text-[#64748b] mb-5">Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ø£Ø®ÙŠØ±Ø©! Ø£ÙƒÙ…Ù„ Ù…Ù„ÙÙƒ Ø¨Ù…Ù‡Ø§Ø±Ø§ØªÙƒ ÙˆØ¥Ø¶Ø§ÙØ§ØªÙƒ</p>

      <!-- Technical Skills -->
      <div class="sub-title">âš™ï¸ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©</div>
      <span class="hint">(ÙŠÙ…ÙƒÙ†Ùƒ ØªØ±ÙƒÙ‡Ø§ ÙØ§Ø±ØºØ© ÙˆØ³Ù†Ø¶ÙŠÙ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø£Ù†Ø³Ø¨ Ù„ØªØ®ØµØµÙƒ)</span>
      <div id="tech-skills-list"></div>
      <button type="button" class="btn-add" onclick="addSkill('tech')">+ Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ø§Ø±Ø©</button>

      <hr class="section-divider">

      <!-- Soft Skills -->
      <div class="sub-title">ğŸ¤ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©</div>
      <span class="hint">(ÙŠÙ…ÙƒÙ†Ùƒ ØªØ±ÙƒÙ‡Ø§ ÙØ§Ø±ØºØ© ÙˆØ³Ù†Ø¶ÙŠÙ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø£Ù†Ø³Ø¨ Ù„ØªØ®ØµØµÙƒ)</span>
      <div id="soft-skills-list"></div>
      <button type="button" class="btn-add" onclick="addSkill('soft')">+ Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ø§Ø±Ø©</button>

      <hr class="section-divider">

      <!-- Languages -->
      <div class="sub-title">ğŸŒ Ø§Ù„Ù„ØºØ§Øª</div>
      <div style="background:#fffbeb;border:1.5px solid #fcd34d;border-radius:10px;padding:0.75rem 1rem;margin-bottom:0.85rem;font-size:0.84rem;color:#92400e;line-height:1.6;">
        ğŸ’¡ <strong>ØªÙ„Ù…ÙŠØ­:</strong> Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø³ØªÙˆØ§Ùƒ Ø¶Ø¹ÙŠÙØ§Ù‹ ÙÙŠ Ù„ØºØ© Ù…Ø¹ÙŠÙ†Ø©ØŒ ÙŠÙØ¶Ù„ Ø­Ø°ÙÙ‡Ø§ ÙˆØ¹Ø¯Ù… ÙƒØªØ§Ø¨ØªÙ‡Ø§. <span style="color:#b45309;">(Ø§Ø¶ØºØ· Ã— Ù„Ù„Ø­Ø°Ù)</span>
      </div>
      <div id="lang-list"></div>
      <button type="button" class="btn-add" onclick="addLanguage()">+ Ø¥Ø¶Ø§ÙØ© Ù„ØºØ© Ø£Ø®Ø±Ù‰</button>

      <hr class="section-divider">

      <!-- Volunteer -->
      <div class="sub-title">ğŸ¤² Ø§Ù„Ø¹Ø¶ÙˆÙŠØ§Øª / Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ØªØ·ÙˆØ¹ÙŠØ©</div>
      <span class="hint">Ø¥Ù† ÙˆØ¬Ø¯Øª</span>
      <div id="vol-entries"></div>
      <button type="button" class="btn-add" onclick="addVolEntry()">+ Ø¥Ø¶Ø§ÙØ© Ø¹Ù…Ù„ ØªØ·ÙˆØ¹ÙŠ</button>

      <div class="note-section mt-4">
        <button type="button" class="text-sm text-[#0A66C2] font-medium hover:underline" onclick="toggleNote('note5')">ğŸ“ Ø£Ø¶Ù Ù…Ù„Ø§Ø­Ø¸Ø© Ø®Ø§ØµØ© Ø¨Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù…</button>
        <div id="note5" style="display:none;"><textarea id="note5_text" rows="3" placeholder="Ø§ÙƒØªØ¨ Ù…Ù„Ø§Ø­Ø¸ØªÙƒ Ù‡Ù†Ø§..."></textarea></div>
      </div>

      <div class="flex justify-between mt-8">
        <button class="btn-secondary" onclick="goToStep(4)"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5" style="display:inline;margin-left:4px;"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/></svg>Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
        <button class="btn-success" id="submit-btn" onclick="handleSubmit()">
          <span id="submit-text">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø¨Ø¯Ø¡ Ø¨Ø§Ù„ØªÙ†ÙÙŠØ° ğŸš€</span>
          <span id="submit-spinner" style="display:none;" class="spinner"></span>
        </button>
      </div>
    </div>

    <!-- Success -->
    <div id="success-screen">
      <div class="checkmark-circle">âœ“</div>
      <h2 class="font-heading text-2xl font-extrabold mb-2">ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­! ğŸš€</h2>
      <p class="text-[#64748b] text-base mb-6">Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ! ØªÙ„Ù‚ÙŠÙ†Ø§ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ ÙˆØ³Ù†Ø¨Ø¯Ø£ Ø§Ù„Ø¹Ù…Ù„ Ø¹Ù„Ù‰ Ø³ÙŠØ±ØªÙƒ Ø§Ù„Ù…Ù…ÙŠØ²Ø© ÙÙˆØ±Ø§Ù‹. Ø³ØªØµÙ„Ùƒ Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø©.</p>
    </div>

  </div>
</div>

<!-- Modal -->
<div id="soft-modal">
  <div class="modal-box">
    <div class="text-4xl mb-3">âš ï¸</div>
    <h3 class="font-heading font-bold text-lg mb-2">ØªÙ†Ø¨ÙŠÙ‡!</h3>
    <p class="text-[#64748b] text-sm mb-5">Ù„Ø§Ø­Ø¸Ù†Ø§ Ø£Ù†Ùƒ Ù„Ù… ØªØ¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ Ø£Ùˆ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ. Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø± Ø¨Ø¯ÙˆÙ†Ù‡Ù…Ø§ØŸ</p>
    <div class="flex gap-3 justify-center">
      <button class="btn-primary" onclick="closeModal()">ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
      <button class="btn-secondary" onclick="forceNext()">Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø¨Ø¯ÙˆÙ†Ù‡Ù…Ø§</button>
    </div>
  </div>
</div>

<!-- Netlify Form -->
<form name="resume-request" data-netlify="true" method="POST" id="netlify-form" style="display:none;">
  <input type="hidden" name="form-name" value="resume-request" />
  <textarea name="markdown_data" id="markdown_data"></textarea>
</form>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
// ===== STATE =====
let currentStep = 1;
const totalSteps = 5;
let selectedPricing = null;
let eduCount=0, certCount=0, courseCount=0, expCount=0, projCount=0, volCount=0;
let techSkillCount=0, softSkillCount=0, langCount=0;
let hasExperience = null;

// ===== INIT =====
document.addEventListener('DOMContentLoaded', () => {
  renderStepDots(); updateProgress();
  addEduEntry();
  addSkill('tech'); addSkill('soft');
  addLanguage('Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©'); addLanguage('Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©');
});

// ===== DOTS =====
function renderStepDots() {
  const labels = ['Ø§Ù„Ø­Ø²Ù…Ø©','Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª','Ø§Ù„Ù…Ø¤Ù‡Ù„Ø§Øª','Ø§Ù„Ø®Ø¨Ø±Ø§Øª','Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª'];
  const c = document.getElementById('step-dots');
  c.innerHTML = '';
  for (let i=1; i<=totalSteps; i++) {
    const w = document.createElement('div');
    w.className = 'flex flex-col items-center gap-1';
    w.innerHTML = `<div class="step-dot ${i<currentStep?'done':i===currentStep?'current':''}">${i<currentStep?'âœ“':i}</div><span style="font-size:0.6rem;color:#94a3b8;font-family:'Tajawal',sans-serif;">${labels[i-1]}</span>`;
    c.appendChild(w);
    if (i < totalSteps) {
      const ln = document.createElement('div');
      ln.style.cssText = `flex:1;height:2px;background:${i<currentStep?'var(--success)':'#e2e8f0'};margin-bottom:18px;transition:background .4s;min-width:10px;`;
      c.appendChild(ln);
    }
  }
}
function updateProgress() {
  document.getElementById('progress-bar-fill').style.width = (currentStep/totalSteps*100)+'%';
  document.getElementById('step-label').textContent = `Ø§Ù„Ø®Ø·ÙˆØ© ${currentStep} Ù…Ù† ${totalSteps}`;
  renderStepDots();
}

// ===== NAV =====
function goToStep(n) {
  const old = document.getElementById('step-'+currentStep);
  if (old) { old.classList.remove('active'); old.style.display='none'; setTimeout(()=>{old.style.display='';},10); }
  currentStep = n; updateProgress();
  const np = document.getElementById('step-'+n);
  if (np) { np.classList.add('active'); window.scrollTo({top:0,behavior:'smooth'}); }
}

// ===== PRICING =====
function selectPricing(v, el) {
  selectedPricing = v;
  document.querySelectorAll('.price-card').forEach(c=>c.classList.remove('selected'));
  el.classList.add('selected');
}

// ===== VALIDATE STEP 2 =====
function validateStep2() {
  const p=document.getElementById('phone').value.trim(), e=document.getElementById('email').value.trim();
  if (!p || !e) document.getElementById('soft-modal').classList.add('show');
  else goToStep(3);
}
function closeModal() { document.getElementById('soft-modal').classList.remove('show'); }
function forceNext() { closeModal(); goToStep(3); }

// ===== NOTE =====
function toggleNote(id) {
  const el = document.getElementById(id);
  el.style.display = el.style.display==='none'?'block':'none';
}

// ===== REMOVE BLOCK =====
function removeBlock(id) { document.getElementById(id)?.remove(); }

// ===== EDUCATION =====
function addEduEntry() {
  eduCount++;
  const id=eduCount, c=document.getElementById('edu-entries');
  const d=document.createElement('div'); d.className='entry-block'; d.id=`edu-block-${id}`;
  d.innerHTML=`
    ${id>1?`<button type="button" class="remove-btn" onclick="removeBlock('edu-block-${id}')">Ã—</button>`:''}
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:.75rem;margin-bottom:.75rem;">
      <div class="float-group" style="margin-bottom:0;"><input type="text" id="edu_degree_${id}" placeholder=" "><label>Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ø¹Ù„Ù…ÙŠØ©</label></div>
      <div class="float-group" style="margin-bottom:0;"><input type="text" id="edu_major_${id}" placeholder=" "><label>Ø§Ù„ØªØ®ØµØµ</label></div>
    </div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:.75rem;">
      <div class="float-group" style="margin-bottom:0;"><input type="text" id="edu_uni_${id}" placeholder=" "><label>Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© / Ø§Ù„Ù…Ø¹Ù‡Ø¯</label></div>
      <div class="float-group" style="margin-bottom:0;"><input type="text" id="edu_year_${id}" placeholder=" "><label>Ø³Ù†Ø© Ø§Ù„ØªØ®Ø±Ø¬</label></div>
    </div>`;
  c.appendChild(d);
}

// ===== CERTIFICATIONS =====
function addCertEntry() {
  certCount++;
  const id=certCount, c=document.getElementById('cert-entries');
  const d=document.createElement('div'); d.className='entry-block'; d.id=`cert-block-${id}`;
  d.innerHTML=`
    ${id>1?`<button type="button" class="remove-btn" onclick="removeBlock('cert-block-${id}')">Ã—</button>`:''}
    <div class="float-group"><input type="text" id="cert_name_${id}" placeholder=" "><label>Ø§Ø³Ù… Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© / Ø§Ù„Ø±Ø®ØµØ©</label></div>
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:.75rem;">
      <div class="float-group" style="margin-bottom:0;"><input type="text" id="cert_issuer_${id}" placeholder=" "><label>Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„Ù…Ø§Ù†Ø­Ø©</label></div>
      <div class="float-group" style="margin-bottom:0;"><input type="text" id="cert_date_${id}" placeholder=" "><label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„ÙŠÙ‡Ø§</label></div>
    </div>`;
  c.appendChild(d);
}

// ===== COURSES =====
function addCourseEntry() {
  courseCount++;
  const id=courseCount, c=document.getElementById('course-entries');
  const d=document.createElement('div'); d.className='entry-block'; d.id=`course-block-${id}`;
  d.innerHTML=`
    ${id>1?`<button type="button" class="remove-btn" onclick="removeBlock('course-block-${id}')">Ã—</button>`:''}
    <div class="float-group"><input type="text" id="course_name_${id}" placeholder=" "><label>Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ±Ø©</label></div>
    <div class="float-group" style="margin-bottom:0;"><input type="text" id="course_org_${id}" placeholder=" "><label>Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„Ù…Ù†ÙØ°Ø© ÙˆØ§Ù„Ø³Ù†Ø©</label></div>`;
  c.appendChild(d);
}

// ===== EXPERIENCE =====
function toggleExperience(has) {
  hasExperience = has;
  document.getElementById('exp-yes-lbl').classList.toggle('active', has);
  document.getElementById('exp-no-lbl').classList.toggle('active', !has);
  document.getElementById('exp-section').style.display = has?'block':'none';
  document.getElementById('exp-none-msg').style.display = has?'none':'block';
  if (has && expCount===0) addExpEntry();
}
function addExpEntry() {
  expCount++;
  const id=expCount, c=document.getElementById('exp-entries');
  const d=document.createElement('div'); d.className='entry-block'; d.id=`exp-block-${id}`;
  d.innerHTML=`
    ${id>1?`<button type="button" class="remove-btn" onclick="removeBlock('exp-block-${id}')">Ã—</button>`:''}
    <div class="float-group"><input type="text" id="exp_title_${id}" placeholder=" "><label>Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</label></div>
    <div class="float-group"><input type="text" id="exp_company_${id}" placeholder=" "><label>Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ© / Ø§Ù„Ø¬Ù‡Ø©</label></div>
    <div class="float-group"><input type="text" id="exp_period_${id}" placeholder=" "><label>Ø§Ù„ÙØªØ±Ø© (Ù…Ø«Ø§Ù„: ÙŠÙ†Ø§ÙŠØ± 2022 - Ø¯ÙŠØ³Ù…Ø¨Ø± 2024)</label></div>
    <div class="float-group" style="margin-bottom:0;"><textarea id="exp_tasks_${id}" rows="3" placeholder="Ø§ÙƒØªØ¨ Ø±Ø¤ÙˆØ³ Ø£Ù‚Ù„Ø§Ù… ÙÙ‚Ø· ÙˆØ³Ù†ØªÙˆÙ„Ù‰ Ø§Ù„ØµÙŠØ§ØºØ©..."></textarea><label>Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</label></div>`;
  c.appendChild(d);
}

// ===== PROJECTS =====
function addProjEntry() {
  projCount++;
  const id=projCount, c=document.getElementById('proj-entries');
  const d=document.createElement('div'); d.className='entry-block'; d.id=`proj-block-${id}`;
  d.innerHTML=`
    ${id>1?`<button type="button" class="remove-btn" onclick="removeBlock('proj-block-${id}')">Ã—</button>`:''}
    <div class="float-group"><input type="text" id="proj_name_${id}" placeholder=" "><label>Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ÙˆØ¯ÙˆØ±Ùƒ ÙÙŠÙ‡</label></div>
    <div class="float-group" style="margin-bottom:0;"><input type="text" id="proj_period_${id}" placeholder=" "><label>ÙØªØ±Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø£Ùˆ ØªØ§Ø±ÙŠØ®Ù‡</label></div>`;
  c.appendChild(d);
}

// ===== SKILLS (bullet rows) =====
function addSkill(type, value='') {
  const listId = type==='tech'?'tech-skills-list':'soft-skills-list';
  const prefix = type==='tech'?'tech_sk':'soft_sk';
  if (type==='tech') techSkillCount++; else softSkillCount++;
  const count = type==='tech'?techSkillCount:softSkillCount;
  const c=document.getElementById(listId);
  const row=document.createElement('div'); row.className='skill-row'; row.id=`${prefix}_row_${count}`;
  row.innerHTML=`<span class="skill-bullet">â€¢</span><input type="text" id="${prefix}_${count}" value="${value}" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù…Ù‡Ø§Ø±Ø©..."><button type="button" class="rm-skill" onclick="removeSkillRow('${prefix}_row_${count}','${type}')">Ã—</button>`;
  c.appendChild(row);
}
function removeSkillRow(rowId, type) {
  const listId = type==='tech'?'tech-skills-list':'soft-skills-list';
  if (document.getElementById(listId).querySelectorAll('.skill-row').length > 1)
    document.getElementById(rowId)?.remove();
}

// ===== LANGUAGES =====
function addLanguage(value='') {
  langCount++;
  const id=langCount, c=document.getElementById('lang-list');
  const row=document.createElement('div'); row.className='lang-row'; row.id=`lang_row_${id}`;
  row.innerHTML=`<span style="color:var(--primary);font-size:1rem;flex-shrink:0;">ğŸŒ</span><input type="text" id="lang_${id}" value="${value}" placeholder="Ù…Ø«Ø§Ù„: Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© - Ù…Ù…ØªØ§Ø²"><button type="button" class="rm-lang" onclick="removeLangRow('lang_row_${id}')">Ã—</button>`;
  c.appendChild(row);
}
function removeLangRow(rowId) {
  document.getElementById(rowId)?.remove();
}

// ===== VOLUNTEER =====
function addVolEntry() {
  volCount++;
  const id=volCount, c=document.getElementById('vol-entries');
  const d=document.createElement('div'); d.className='entry-block'; d.id=`vol-block-${id}`;
  d.innerHTML=`
    ${id>1?`<button type="button" class="remove-btn" onclick="removeBlock('vol-block-${id}')">Ã—</button>`:''}
    <div class="float-group"><input type="text" id="vol_org_${id}" placeholder=" "><label>Ø§Ù„Ø¬Ù‡Ø© ÙˆØ§Ù„Ø¯ÙˆØ±</label></div>
    <div class="float-group" style="margin-bottom:0;"><input type="text" id="vol_period_${id}" placeholder=" "><label>Ø§Ù„ÙØªØ±Ø©</label></div>`;
  c.appendChild(d);
}

// ===== HELPERS =====
function v(id) { const el=document.getElementById(id); return el?el.value.trim():''; }

function collectSkills(type) {
  const prefix=type==='tech'?'tech_sk':'soft_sk';
  const max=type==='tech'?techSkillCount:softSkillCount;
  const out=[];
  for(let i=1;i<=max;i++){const el=document.getElementById(`${prefix}_${i}`);if(el&&el.value.trim())out.push(el.value.trim());}
  return out;
}
function collectLanguages() {
  const out=[];
  for(let i=1;i<=langCount;i++){const el=document.getElementById(`lang_${i}`);if(el&&el.value.trim())out.push(el.value.trim());}
  return out;
}

// ===== MARKDOWN =====
function compileMarkdown() {
  const pm={ar:'Ø³ÙŠØ±Ø© Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (50 Ø±ÙŠØ§Ù„)',en:'Ø³ÙŠØ±Ø© Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© (50 Ø±ÙŠØ§Ù„)',both:'Ø³ÙŠØ±ØªÙŠÙ† Ø¹Ø±Ø¨ÙŠØ© + Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© (100 Ø±ÙŠØ§Ù„)'};
  let md = `# ğŸ“‹ Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø© Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ© â€” Ø³ÙŠØ±ØªÙŠ Ø§Ù„Ù…Ù…ÙŠØ²Ø©\n\n---\n\n`;

  // 1 Package
  md += `## 1ï¸âƒ£ Ø§Ù„Ø­Ø²Ù…Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©\n\n`;
  md += `- **Ø§Ù„Ø­Ø²Ù…Ø©:** ${selectedPricing ? pm[selectedPricing] : 'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±'}\n\n`;

  // 2 Personal Info
  md += `## 2ï¸âƒ£ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©\n\n`;
  md += `- **Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„:** ${v('full_name')}\n`;
  md += `- **Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„:** ${v('phone')}\n`;
  md += `- **Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:** ${v('email')}\n`;
  md += `- **Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©:** ${v('city') || 'Ù…Ù†ÙØªØ­ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„'}\n`;
  md += `- **Ø§Ù„Ø¬Ù†Ø³ÙŠØ©:** ${v('nationality') || 'Ù„Ù… ÙŠÙØ­Ø¯Ø¯'}\n`;
  const n2 = v('note2_text');
  if (n2) md += `- **Ù…Ù„Ø§Ø­Ø¸Ø©:** ${n2}\n`;
  md += `\n`;

  // 3 Education
  md += `## 3ï¸âƒ£ Ø§Ù„Ù…Ø¤Ù‡Ù„Ø§Øª Ø§Ù„Ø¹Ù„Ù…ÙŠØ©\n\n`;
  let anyEdu = false;
  for (let i = 1; i <= eduCount; i++) {
    if (!document.getElementById(`edu-block-${i}`)) continue;
    const [dg, mj, un, yr] = [v(`edu_degree_${i}`), v(`edu_major_${i}`), v(`edu_uni_${i}`), v(`edu_year_${i}`)];
    if (dg || mj || un || yr) {
      anyEdu = true;
      md += `### Ù…Ø¤Ù‡Ù„ ${i}\n\n`;
      if (dg) md += `- **Ø§Ù„Ø¯Ø±Ø¬Ø©:** ${dg}\n`;
      if (mj) md += `- **Ø§Ù„ØªØ®ØµØµ:** ${mj}\n`;
      if (un) md += `- **Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©:** ${un}\n`;
      if (yr) md += `- **Ø³Ù†Ø© Ø§Ù„ØªØ®Ø±Ø¬:** ${yr}\n`;
      md += `\n`;
    }
  }
  if (!anyEdu) md += `- Ù„Ù… ÙŠØªÙ… Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¤Ù‡Ù„Ø§Øª\n\n`;

  // 3b Certifications
  md += `## ğŸ… Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ© ÙˆØ§Ù„Ø±Ø®Øµ\n\n`;
  let anyCert = false;
  for (let i = 1; i <= certCount; i++) {
    if (!document.getElementById(`cert-block-${i}`)) continue;
    const [nm, is, dt] = [v(`cert_name_${i}`), v(`cert_issuer_${i}`), v(`cert_date_${i}`)];
    if (nm || is) {
      anyCert = true;
      md += `### Ø´Ù‡Ø§Ø¯Ø© ${i}\n\n`;
      if (nm) md += `- **Ø§Ø³Ù… Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©:** ${nm}\n`;
      if (is) md += `- **Ø§Ù„Ø¬Ù‡Ø© Ø§Ù„Ù…Ø§Ù†Ø­Ø©:** ${is}\n`;
      if (dt) md += `- **ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­ØµÙˆÙ„:** ${dt}\n`;
      md += `\n`;
    }
  }
  if (!anyCert) md += `- Ù„Ø§ ØªÙˆØ¬Ø¯ Ø´Ù‡Ø§Ø¯Ø§Øª Ø§Ø­ØªØ±Ø§ÙÙŠØ©\n\n`;

  // 3c Courses
  md += `## ğŸ“š Ø§Ù„Ø¯ÙˆØ±Ø§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ¨ÙŠØ©\n\n`;
  let anyCourse = false;
  for (let i = 1; i <= courseCount; i++) {
    if (!document.getElementById(`course-block-${i}`)) continue;
    const [nm, org] = [v(`course_name_${i}`), v(`course_org_${i}`)];
    if (nm || org) {
      anyCourse = true;
      md += `- **${nm || 'Ø¯ÙˆØ±Ø©'}**${org ? ' â€” ' + org : ''}\n`;
    }
  }
  if (!anyCourse) md += `- Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¯ÙˆØ±Ø§Øª Ù…ÙØ¯Ø®Ù„Ø©\n`;
  const n3 = v('note3_text');
  if (n3) md += `\n**Ù…Ù„Ø§Ø­Ø¸Ø© (Ø§Ù„Ù…Ø¤Ù‡Ù„Ø§Øª):** ${n3}\n`;
  md += `\n`;

  // 4 Experience
  md += `## 4ï¸âƒ£ Ø§Ù„Ø®Ø¨Ø±Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©\n\n`;
  if (hasExperience === false) {
    md += `- **Ù„Ø§ ØªÙˆØ¬Ø¯ Ø®Ø¨Ø±Ø© Ø¹Ù…Ù„ÙŠØ© Ø³Ø§Ø¨Ù‚Ø©**\n\n`;
  } else if (hasExperience === true) {
    for (let i = 1; i <= expCount; i++) {
      if (!document.getElementById(`exp-block-${i}`)) continue;
      const [tt, co, pr, tk] = [v(`exp_title_${i}`), v(`exp_company_${i}`), v(`exp_period_${i}`), v(`exp_tasks_${i}`)];
      if (tt || co) {
        md += `### Ø®Ø¨Ø±Ø© ${i}\n\n`;
        if (tt) md += `- **Ø§Ù„Ù…Ø³Ù…Ù‰:** ${tt}\n`;
        if (co) md += `- **Ø§Ù„Ø´Ø±ÙƒØ©:** ${co}\n`;
        if (pr) md += `- **Ø§Ù„ÙØªØ±Ø©:** ${pr}\n`;
        if (tk) md += `- **Ø§Ù„Ù…Ù‡Ø§Ù…:**\n${tk.split('\n').filter(l => l.trim()).map(l => `  - ${l.trim()}`).join('\n')}\n`;
        md += `\n`;
      }
    }
  } else {
    md += `- Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©\n\n`;
  }

  // 4b Projects
  md += `## ğŸš€ Ø£Ø¨Ø±Ø² Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹\n\n`;
  let anyProj = false;
  for (let i = 1; i <= projCount; i++) {
    if (!document.getElementById(`proj-block-${i}`)) continue;
    const [nm, pr] = [v(`proj_name_${i}`), v(`proj_period_${i}`)];
    if (nm) {
      anyProj = true;
      md += `### Ù…Ø´Ø±ÙˆØ¹ ${i}\n\n`;
      md += `- **Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ÙˆØ§Ù„Ø¯ÙˆØ±:** ${nm}\n`;
      if (pr) md += `- **Ø§Ù„ÙØªØ±Ø©:** ${pr}\n`;
      md += `\n`;
    }
  }
  if (!anyProj) md += `- Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø´Ø§Ø±ÙŠØ¹ Ù…ÙØ¯Ø®Ù„Ø©\n`;
  const n4 = v('note4_text');
  if (n4) md += `\n**Ù…Ù„Ø§Ø­Ø¸Ø© (Ø§Ù„Ø®Ø¨Ø±Ø§Øª):** ${n4}\n`;
  md += `\n`;

  // 5 Tech Skills
  md += `## 5ï¸âƒ£ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©\n\n`;
  const techSk = collectSkills('tech');
  if (techSk.length > 0) techSk.forEach(s => { md += `- ${s}\n`; });
  else md += `- Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø£Ù†Ø³Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹\n`;
  md += `\n`;

  // 5b Soft Skills
  md += `## ğŸ¤ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©\n\n`;
  const softSk = collectSkills('soft');
  if (softSk.length > 0) softSk.forEach(s => { md += `- ${s}\n`; });
  else md += `- Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø£Ù†Ø³Ø¨ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹\n`;
  md += `\n`;

  // 5c Languages
  md += `## ğŸŒ Ø§Ù„Ù„ØºØ§Øª\n\n`;
  const langs = collectLanguages();
  if (langs.length > 0) langs.forEach(l => { md += `- ${l}\n`; });
  else md += `- Ù„Ù… ÙŠØªÙ… Ø¥Ø¯Ø®Ø§Ù„ Ù„ØºØ§Øª\n`;
  md += `\n`;

  // 5d Volunteer
  md += `## ğŸ¤² Ø§Ù„Ø¹Ø¶ÙˆÙŠØ§Øª ÙˆØ§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ØªØ·ÙˆØ¹ÙŠØ©\n\n`;
  let anyVol = false;
  for (let i = 1; i <= volCount; i++) {
    if (!document.getElementById(`vol-block-${i}`)) continue;
    const [org, pr] = [v(`vol_org_${i}`), v(`vol_period_${i}`)];
    if (org) {
      anyVol = true;
      md += `- **${org}**${pr ? ' â€” ' + pr : ''}\n`;
    }
  }
  if (!anyVol) md += `- Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø¹Ù…Ø§Ù„ ØªØ·ÙˆØ¹ÙŠØ©\n`;
  const n5 = v('note5_text');
  if (n5) md += `\n**Ù…Ù„Ø§Ø­Ø¸Ø© (Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª):** ${n5}\n`;
  md += `\n`;

  md += `---\n\n*ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¹Ø¨Ø± Ù†Ù…ÙˆØ°Ø¬ Ø³ÙŠØ±ØªÙŠ Ø§Ù„Ù…Ù…ÙŠØ²Ø©*\n`;
  return md;
}

// ===== SUBMIT =====
function handleSubmit() {
  document.getElementById('submit-text').style.display='none';
  document.getElementById('submit-spinner').style.display='inline-block';
  document.getElementById('submit-btn').disabled=true;
  document.getElementById('markdown_data').value = compileMarkdown();
  setTimeout(()=>{
    const form = document.getElementById('netlify-form');
    const formData = new FormData(form);
    formData.append('form-name', 'resume-request');
    fetch('/', {
      method: 'POST',
      headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
      body: new URLSearchParams(formData).toString()
    }).then(() => showSuccess()).catch(() => showSuccess());
  }, 1800);
}
function showSuccess() {
  document.querySelectorAll('.step-panel').forEach(p => p.classList.remove('active'));
  document.getElementById('progress-bar-fill').style.width = '100%';
  document.getElementById('step-label').textContent = 'ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„!';
  document.getElementById('success-screen').classList.add('active');
  window.scrollTo({ top: 0, behavior: 'smooth' });
}
</script>
</body>
</html>